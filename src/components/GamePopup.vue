<template>
  <div v-if="isPopupVisible" class="popup-container">
    <div class="popup">
      <h2 v-if="popupStatus === 'win'">–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –ø–æ–±–µ–¥–∏–ª–∏! üòÉ</h2>
      <template v-else>
        <h2>–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. üòï</h2>
        <h3>–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ –∏–º—è: {{ props.name }}</h3>
      </template>
      <button @click="$emit('gameRestart')">–°—ã–≥—Ä–∞—Ç—å –µ—â–µ —Ä–∞–∑</button>
    </div>
  </div>
</template>

<script setup>
import { ref, defineExpose, defineEmits, defineProps } from "vue";

const isPopupVisible = ref(false);
const popupStatus = ref(null);

const props = defineProps(["name"]);

const openPopup = (status) => {
  popupStatus.value = status;
  isPopupVisible.value = true;
};

const closePopup = () => {
  isPopupVisible.value = false;
};

defineExpose({
  openPopup,
  closePopup,
});

defineEmits(["gameRestart"]);
</script>
